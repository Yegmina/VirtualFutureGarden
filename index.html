<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | VirtualFutureGarden</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100%;
            width: 100%;
        }
        #unity-canvas {
            background: #231F20;
            display: block;
        }
    </style>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>
</head>
<body style="text-align: center; padding: 0; border: 0; margin: 0;">
    <canvas id="unity-canvas" width=1080 height=1920 style="width: 1080px; height: 1920px; background: #231F20"></canvas>
    <script src="Build/VirtualFutureGarden.loader.js"></script>
	
	<script src="https://telegram.org/js/telegram-web-app.js"></script>
	
<script>
      function resizeCanvas() {
        var canvas = document.getElementById('unity-canvas');
        var windowWidth = window.innerWidth;
        var windowHeight = window.innerHeight;
        
        // Получаем соотношение сторон холста и окна
        var canvasAspect = canvas.width / canvas.height;
        var windowAspect = windowWidth / windowHeight;

        if (windowAspect < canvasAspect) {
          // Если окно шире, чем холст, масштабируем по ширине
          canvas.style.width = windowWidth + 'px';
          canvas.style.height = (windowWidth / canvasAspect) + 'px';
        } else {
          // Если окно выше, чем холст, масштабируем по высоте
          canvas.style.width = (windowHeight * canvasAspect) + 'px';
          canvas.style.height = windowHeight + 'px';
        }
        
        canvas.style.position = 'absolute';
        canvas.style.left = '50%';
        canvas.style.top = '50%';
        canvas.style.transform = 'translate(-50%, -50%)';
      }

      window.addEventListener('resize', resizeCanvas);
      window.addEventListener('load', resizeCanvas);
</script>
<!--<script type="text/javascript" src="path-to/bower_components/crypto-js/crypto-js.js"></script>-->


<script>
function sha256(message) {
  return CryptoJS.SHA256(message).toString(CryptoJS.enc.Hex);
}
function showAlert(message) {
  alert(message);
}

</script>


	  <script>
        window.Telegram.WebApp.ready();
		if (window["Telegram"]) {
		window["Telegram"].WebApp.expand();
		}

    </script>
	
    <script>
		// Функция для открытия URL через Telegram WebApp или обычный браузер
    function openURL(url) {
      if (window.Telegram && window.Telegram.WebApp) {
        window.Telegram.WebApp.openLink(url);
      } else {
        window.open(url, '_blank');
      }
    }
        if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
            var meta = document.createElement('meta');
            meta.name = 'viewport';
            meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
            document.getElementsByTagName('head')[0].appendChild(meta);

            var canvas = document.querySelector("#unity-canvas");
            canvas.style.width = "100%";
            canvas.style.height = "100%";
            canvas.style.position = "fixed";

            document.body.style.textAlign = "left";
        }

        createUnityInstance(document.querySelector("#unity-canvas"), {
            dataUrl: "Build/VirtualFutureGarden.data",
            frameworkUrl: "Build/VirtualFutureGarden.framework.js",
            codeUrl: "Build/VirtualFutureGarden.wasm",
            streamingAssetsUrl: "StreamingAssets",
            companyName: "DefaultCompany",
            productName: "VirtualFutureGarden",
            productVersion: "1.0",
        }).then(instance => {
            console.log('Unity instance created');
        }).catch(error => {
            console.error('Unity instance failed to load:', error);
        });
    </script>
</body>
</html>
